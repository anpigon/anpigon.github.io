---
title: "[React Native] 인스타그램 UI 만들기 #3"
author: anpigon
date: "2019-01-22T05:23:18Z"
permalink: "/kr/@anpigon/react-native-ui-3-1548134597178"
tags:
  - "kr"
  - "dev"
  - "kr-dev"
  - "busy"
  - "jjangjjangman"
---
![](https://user-images.githubusercontent.com/3969643/51441420-b41f1c80-1d14-11e9-9f5d-af5cd3a6aaae.png)

리액트 네이티브(React Native)로 인스타그램 UI를 구현하는 세 번째 강의입니다. 이번에는 홈 화면에 스토리 헤더를 구현합니다. 이 포스팅은 아래 무료 동영상 강의를 참고하여 작성하였습니다.


https://youtu.be/aMqReBxlFfk
> **인스타그램 UI 코딩 동영상 강의**는 총 5편입니다. 이제 앞으로 2편 남았네요. 이번 강의 내용은 저번보다 조금 짧습니다. ㅎ

<br>

# 스토리 헤더 만들기

`./Components/AppTabNavigator/HomeTab.js` 파일을 수정합니다. 그리고 피드 목록 바로 위에 **스토리 헤더 영역**을 구현합니다. 먼저 **스토리 헤더 영역** 위치를 잡기 위해 기본 컴포넌트를 사용하여 구현합니다. 그리고 앱을 실행하여 확인해보겠습니다.

```js
export default class HomeTab extends Component ｛
    render() ｛
        return (
            <Container style=｛style.container｝>
                <Content>

                    ｛/* 여기부터 스토리 헤더 시작 */｝
                    <View style=｛｛ height: 100 ｝｝>
                        <View style=｛｛ flex: 1, flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingHorizontal: 7 ｝｝>
                            <Text style=｛｛ fontWeight: 'bold' ｝｝>Stories</Text>

                            <View style=｛｛flexDirection:'row','alignItems':'center'｝｝>
                                <Icon name="md-play" style=｛｛fontSize:14｝｝></Icon>
                                <Text style=｛｛fontWeight:'bold'｝｝> Watch All</Text>
                            </View>
                        </View>
                    </View>
                    ｛/* 여기까지 스토리 헤더 끝 */｝

                    ｛
                        this.state.feeds.map(feed => (
                          <CardComponent data=｛ feed ｝ key=｛ feed.url ｝/>
                        ))
                    ｝
                </Content>
            </Container>
        );
    ｝
｝

// ... 일부 코드 생략 ...
```

> 스토리 헤더의 **heigh**는 **100**입니다. 그리고 텍스트 *"Stories"*와 *"Watch All"*을 양쪽 정렬(`｛ justifyContent: 'space-between ｝`) 하였습니다.

<br>

여기까지 작업한 화면입니다. 피드 상단에 스토리 헤더가 생겼습니다.

![](https://cdn.steemitimages.com/300x0/https://user-images.githubusercontent.com/3969643/51505799-14ed4880-1e2c-11e9-92fe-06c0e585199e.png)

<br>



# 스토리 헤더에 스크롤 뷰 만들기

**HomeTab**에 `ScrollView`와 `Thumbnail` 를 추가로 **import** 합니다.

```js
import ｛ View, Text, StyleSheet, ScrollView ｝ from 'react-native';
import ｛ Container, Content, Icon, Thumbnail ｝ from 'native-base';
```

<br>

그리고 앞에서 작성한 **View** 바로 아래에 **ScrollView** 를 추가합니다. 그리고 **ScrollView** 안에 **Thumbnail** 을 추가합니다.

```xml
｛/* 여기부터 스토리 헤더 시작 */｝
<View style=｛｛ height: 100 ｝｝>
  <View style=｛｛ flex: 1, flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingHorizontal: 7 ｝｝>
    <Text style=｛｛ fontWeight: 'bold' ｝｝>Stories</Text>

    <View style=｛｛ flexDirection: 'row', 'alignItems': 'center' ｝｝>
      <Icon name="md-play" style=｛｛ fontSize: 14 ｝｝></Icon>
      <Text style=｛｛ fontWeight: 'bold' ｝｝> Watch All</Text>
    </View>
  </View>

  <View style=｛｛ flex: 3 ｝｝>
    <ScrollView
horizontal=｛true｝>
      <Thumbnail source=｛｛uri: 'https://steemitimages.com/u/newbijohn/avatar' ｝｝ />
      <Thumbnail source=｛｛uri: 'https://steemitimages.com/u/jacobyu/avatar' ｝｝ />
      <Thumbnail source=｛｛uri: 'https://steemitimages.com/u/blockchainstudio/avatar' ｝｝ />
      <Thumbnail source=｛｛uri: 'https://steemitimages.com/u/gomdory/avatar' ｝｝ />
      <Thumbnail source=｛｛uri: 'https://steemitimages.com/u/bbooaae/avatar' ｝｝ />
      <Thumbnail source=｛｛uri: 'https://steemitimages.com/u/codingman/avatar' ｝｝ />
      <Thumbnail source=｛｛uri: 'https://steemitimages.com/u/bukio/avatar' ｝｝ />
    </ScrollView>
  </View>
</View>
｛/* 여기까지 스토리 헤더 끝 */｝
```
> **Thumbnail** 에는 제 팔로우 친구들의 사진을 임의로 가져와서 출력하였습니다.

<br>

여기까지 작업한 화면입니다. 피드 상단에 팔로우 친구들이 보입니다.

![](https://cdn.steemitimages.com/300x0/https://user-images.githubusercontent.com/3969643/51506135-06079580-1e2e-11e9-973a-b25b1a3fb3cb.png)

<br>

# 스토리 헤더 스타일링 하기

**ScrollView**와 **Thumbnail**에 스타일을 지정합니다.

```xml
<ScrollView
  horizontal=｛true｝
  showsHorizontalScrollIndicator=｛false｝
  contentContainerStyle=｛｛
  alignItems: 'center',
  paddingStart: 5,
  paddingEnd: 5
｝｝>
  <Thumbnail 
    style=｛｛ marginHorizontal: 5, borderColor: 'pink', borderWidth: 2 ｝｝
    source=｛｛uri: 'https://steemitimages.com/u/newbijohn/avatar' ｝｝ />

｛/* ... 일부 코드 생략 ... */｝    
```

<br>

# 스팀잇에서 팔로잉 친구 가져와서 출력하기

마지막으로 스팀잇 팔로우 친구를 가져와서 출력하는 기능을 구현하겠습니다. **HomeTab** 클래스에 팔로잉 친구를 가져오는 함수를 구현합니다.

```js
export default class HomeTab extends Component ｛
    
    // 팔로잉 친구 가져오기
    fetchFollowing() ｛
        const data = ｛
            id: 2,
            jsonrpc: "2.0",
            method: "call",
            params: [
              "follow_api",
              "get_following",
              ["anpigon", "", "blog", 10]
            ]
        ｝;
        return fetch('https://api.steemit.com',
        ｛
            method: 'POST',
            body: JSON.stringify(data)
        ｝)
        .then(res => res.json())
        .then(res => res.result.map((｛following｝) => following))
    ｝
    

```

<br>

그다음 `state`에 `followings` 변수를 선언합니다. `followings`에는 팔로잉 친구 목록을 저장할 것입니다.

```js
export default class HomeTab extends Component ｛
    
  state = ｛
    feeds: [],
    followings: []
  ｝

// ... 일부 코드 생략 ...
```

<br>

그리고 `componentWillMount()` 함수를 수정합니다. 이 함수는 컴포넌트가 마운트 되기 전에 실행됩니다. 여기서 스팀잇 서버에서 팔로잉 친구 목록을 가져옵니다.

```js
export default class HomeTab extends Component ｛

  componentWillMount() ｛
    // 피드 가져오기
    this.fetchFeeds().then(feeds => ｛
      this.setState(｛
        feeds
      ｝)
    ｝);
        
    // 팔로잉 친구 가져오기
    this.fetchFollowing().then(followings => ｛
      this.setState(｛
        followings
      ｝)
    ｝);
  ｝
    
// ... 일부 코드 생략 ...
```

<br>

마지막으로 스크롤뷰를 다음과 같이 수정합니다. 팔로잉 친구들 사진을 출력합니다.

```xml
<ScrollView
  horizontal=｛true｝
  showsHorizontalScrollIndicator=｛false｝
  contentContainerStyle=｛｛
    alignItems: 'center',
    paddingStart: 5,
    paddingEnd: 5
｝｝>
  ｛
    this.state.followings.map(following => <Thumbnail 
      style=｛｛ marginHorizontal: 5, borderColor: 'pink', borderWidth: 2 ｝｝
      source=｛｛uri: `https://steemitimages.com/u/$｛following｝/avatar` ｝｝ />)
  ｝
</ScrollView>
```

<br>

여기까지 작업한 화면입니다. 피드 상단에 팔로우 친구들이 보입니다. 그리고 좌우로 스크롤 가능합니다.

![](https://user-images.githubusercontent.com/3969643/51507277-867cc500-1e33-11e9-83f8-1d60660a5683.gif)

<br>작업한 코드는 모두 깃허브에 업로드되어 있습니다.

https://github.com/anpigon/rn_instagram_clone

여기까지 읽어주셔서 감사합니다.

---

###### 시리즈

* [[React Native] 인스타그램 UI 만들기 #1](https://busy.org/@anpigon/react-native-ui-1)
* [[React Native] 인스타그램 UI 만들기 #2](https://busy.org/@anpigon/react-native-ui-2-1548079722841)
* [[React Native] 인스타그램 UI 만들기 #3](https://busy.org/@anpigon/react-native-ui-3-1548134597178)
* [[React Native] 인스타그램 UI 만들기 #4](https://busy.org/@anpigon/react-native-ui-4-1548207724086)
* [[React Native] 인스타그램 UI 만들기 #5](https://busy.org/@anpigon/react-native-ui-5-1548346515419)

---

#####  <sub> **Sponsored ( Powered by [dclick](https://www.dclick.io) )** </sub>
##### [눈이 많이 오던 날](https://api.dclick.io/v1/c?x=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjIjoiYW5waWdvbiIsInMiOiJyZWFjdC1uYXRpdmUtdWktMy0xNTQ4MTM0NTk3MTc4IiwiYSI6WyJ0LTEzMjMiXSwidXJsIjoiaHR0cHM6Ly9zdGVlbWl0LmNvbS9waG90b2dyYXBoeS9AamVlaHVuLy0tMTU0ODEyNzUwMDA4MyIsImlhdCI6MTU0ODEzNDU5NywiZXhwIjoxODYzNDk0NTk3fQ.GgvkreJCtB0nSqGAqxXW8m-d81v7Xbyq-FYl3gASagQ)
<sup>올해는 눈이 많이 안 오네요. 겨울에는 눈이 펑펑 와야 겨울 같은데... 오라는 눈은 안 오고...</sup>
</center>