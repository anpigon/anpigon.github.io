---
title: "[React Native] TO-DO 앱 만들기 #4"
author: anpigon
date: "2018-12-11T15:06:27Z"
permalink: "/kr/@anpigon/react-native-todo-4-1544540786908"
tags:
  - "React Native"
---
![](https://ipfs.busy.org/ipfs/QmSZVWfqBV5yJMzscYstd4iEJffFRDTpPAPeLnTGMhn2Fg)

리액트 네이티브(React Native)로 할 일 관리앱(To-Do App)을 만들기입니다. [이전 강좌](https://steemit.com/kr/@anpigon/react-native-todo-3-1544444494475)에서 계속 이어지는 내용입니다. 
- [[React Native] TO-DO 앱 만들기 #1](https://steemit.com/kr/@anpigon/react-native-todo-1-1543931900794)
- [[React Native] TO-DO 앱 만들기 #2](https://steemit.com/kr/@anpigon/react-native-todo-2-1544357245729)
- [[React Native] TO-DO 앱 만들기 #3](https://steemit.com/kr/@anpigon/react-native-todo-3-1544444494475)

<br>이번 강좌에서는 할 일을 체크하는 기능과 삭제 기능을 구현합니다.

<br><center>* * *</center><br>

# 할 일을 체크(완료)하는 기능 구현하기

<hr>

완료된 할 일에 대해서 ☑체크 아이콘을 표시하는 기능을 만들어 보자.

<br><br>

### App.js 수정하기

<br>할 일에 체크(완료)표시하는 `checkTodo()` 함수를 입력한다.

```js
  checkTodo = (id) => ｛
    this.setState(prevState => ｛
      const [ todo ] = prevState.todos.filter(e => e.id === id);
      todo.completed = !todo.completed;
      return (｛
        todos: [
            ...prevState.todos
        ]
      ｝)
    ｝);
  ｝
```

> `checkTodo()` 함수는 `todo.id`를 인자값으로 입력받는다. 그리고 `prevState.todos` 배열에서 해당 **id**의 **todo**를 찾는다. 찾은 todo 데이터의`completed` 값을 변경한다. 

<br>그리고 구현된 `checkTodo()` 함수를 **Body** 컴포넌트에 넘겨준다. 아래 코드 화면에서 블럭으로 지정한 부분이다.

![](https://ipfs.busy.org/ipfs/Qmejcevr6ZCRFEHF9ryiFgxWNbSnFxV7eUTHBziVhE7DNp)

<br><br>

### Body.js 수정하기

<br>할일 목록에서 체크박스를 누르면 부모 컴포넌트(App 컴포넌트)에서 전달받은 `checkTodo()` 함수를 호출한다.

```js
    render() ｛
        return (
            <View style=｛styles.container｝>
                ｛
                    this.props.todos.map(data => (
                        <View style=｛styles.todo｝ key=｛data.id｝>
                            <View style=｛styles.todoText｝>
                                <TouchableOpacity style=｛styles.todoCheckbox｝ 
                                    onPressOut=｛() => this.props.checkTodo(data.id)｝>
```
> `<TouchableOpacity>`에서 `onPressOut` 이벤트 발생 시 `this.props.checkTodo(data.id)`를 호출한다.

아래 코드 화면에서 블럭으로 지정한 부분이다.
![](https://ipfs.busy.org/ipfs/QmaBgFFbQ3TRnCDPjoNCo2q4Psrg9xfFNGpdHW1ktbort5)

<br>여기까지 구현된 앱의 동작화면은 아래와 같다.

![](https://cdn.steemitimages.com/DQmPD5CsLgDCZRxJLq3mtyZsu2DtwmCAh9BSZ7b1oXNWmNG/QmaXe6VQs1jck7KCa6kfDL654pWfNyUKzgCzRS9rN67BVT.gif)
> 체크박스를 선택하면 아이콘 모양이 바뀐다.

<br><br>

### 스타일(styles) 만들기

<br>체크(완료)표시된 할 일을 다르게 표현하기 위해서 스타일을 구현한다. Body 컴포넌트의 `styles`에 **todoCompleted** 를 추가한다.

```
const styles = StyleSheet.create(｛

    // ... 생략 ...

    todoCompleted: ｛
        color: "#bbb",
        textDecorationLine: "line-through"
    ｝
｝);
```

<br>할 일이 완료되면 스타일이 적용되도록 해보자.

```
<Text style=｛[data.completed ? styles.todoCompleted : null]｝>｛data.text｝</Text>
```

> `data.completed` 가 **Ture** 이면 `todoCompleted` 스타일이 적용된다.

아래 코드 화면에서 블럭으로 지정한 부분이다.
![](https://steemitimages.com/400x0/https://ipfs.busy.org/ipfs/Qmdow2hcTqUShxuX1V8Cn66yowNYZUKJCpxDdXcgGurc4u)

<br>스타일이 적용된 앱의 화면은 아래와 같다.

![](https://steemitimages.com/400x0/https://ipfs.busy.org/ipfs/QmZ46LrC3ep4mUsrzdGozfo6Zbu7BGAQvrRF4cSB7W9Agb)

<br><br><center>* * *</center><br><br>

# 할 일 삭제 기능 구현하기

<hr>

그 다음은 할 일을 목록에서 삭제하는 기능을 만들어 보자.

<br><br>

### App.js 수정하기

<br>할 일을 삭제하는 `removeTodo()` 함수를 입력한다.

```js
  removeTodo = (id) => ｛
    this.setState(prevState => ｛
      const index = prevState.todos.findIndex(e => e.id === id);
      prevState.todos.splice(index, 1);
      return (｛
        todos: [
            ...prevState.todos
        ]
      ｝)
    ｝);
  ｝
```

> `id`에 해당하는 할 일을 찾아서 삭제(splice)한다.

그리고 구현된 `removeTodo()` 함수를 **Body** 컴포넌트에 넘겨준다. 아래 코드 화면에서 블럭으로 지정한 부분이다.
![](https://ipfs.busy.org/ipfs/QmW5sCWDneyR8mMCBZmMYLS5vC5i2J5qRWScxSxLeKd9t6)


<br>

### Body.js 수정하기

<br>할일 목록에서 삭제 아이콘를 누르면 부모 컴포넌트(App 컴포넌트)에서 전달받은 `removeTodo()` 함수를 호출한다.

```xml
<TouchableOpacity onPressOut=｛() => this.props.removeTodo(data.id)｝>
  <MaterialCommunityIcons style=｛styles.todoDelBtn｝ size=｛30｝ name='delete-outline' />
</TouchableOpacity>
```
> `<TouchableOpacity>`에서 `onPressOut` 이벤트 발생 시 `this.props.removeTodo(data.id)`를 호출한다.
아래 코드 화면에서 블럭으로 지정한 부분이다.

![](https://ipfs.busy.org/ipfs/QmRZD8LT5r8hunzSj3UDdgMzxZWQDx7cgb4kRhGi5sxGWE)


<br>여기까지 구현된 앱의 동작화면은 아래와 같다.

![](https://cdn.steemitimages.com/DQmU8rDwcmpJmfDxWSuSqGtzTEgYMtY4YL64UoAPetKYR62/QmdEJ4tK1PSLiF5xXKmaKiAqCZFAgQ3eGwXLQgvDc3nQrV.gif)
> 삭제 아이콘을 누르면 할 일이 하나씩 목록에서 지워진다.

<br>

다음 강좌에서는 입력한 데이터(할일)를 로컬 스토리지에 저장하고 불러오는 기능을 포스팅할 예정입니다. 지금은 앱을 종료했다가 다시 실행하면 이전에 입력한 데이터가 사라집니다.ㅎㅎ

그리고 투두앱 소스는 모두 깃허브에 공개되어 있습니다.
https://github.com/anpigon/react-native-todo-app

<br><center>* * *</center><br>

이번에 간단한 앱을 구현하면서 리액트 네이티브의 한계점(단점?)과 이점을 어느 정도 알게 되었습니다. 리액트 네이티브는 To-do앱처럼 간단한 앱을 구현하기에는 정말 좋은 도구입니다. 만약 안드로이드(자바)로 개발했다면, UI컴포넌트를 개발하고 스타일을 구현하는데 시간이 많이 사용되었을 것입니다. 하지만, 안드로이드도 디자인 없이 구현한다면 금방 하겠지요.ㅋ

제가 리액트 네이티브를 추천한다면 이렇게 말하고 싶습니다. 
- 안드로이드앱과 아이폰앱을 둘 다 개발하고 싶다면 리액트 네이티브를 사용하세요.
- 간단한 데모앱을 빠르게 만들고 싶다면 리액트 네이티브를 사용하세요.
- 자바스크립트를 좋아한다면 리액트 네이티브를 사용하세요.
- 안드로이드 스튜디오나 xcode를 설치하는 것(또는 개발환경 셋팅)이 귀찮다면 리액트 네이티브를 강력 추천합니다.

<br>여기까지 읽어주셔서 감사합니다.

---

#####  <sub> **Sponsored ( Powered by [dclick](https://www.dclick.io) )** </sub>
[![dclick-imagead](https://s3.ap-northeast-2.amazonaws.com/dclick/image/forhappywomen/1544507068153.jpg)](https://api.dclick.io/v1/c?x=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjIjoiYW5waWdvbiIsInMiOiJyZWFjdC1uYXRpdmUtdG9kby00LTE1NDQ1NDA3ODY5MDgiLCJhIjpbImktNjciXSwidXJsIjoiaHR0cHM6Ly9vZXZlcnkuY29tLzg0ODk0MTYiLCJpYXQiOjE1NDQ1NDA3ODYsImV4cCI6MTg1OTkwMDc4Nn0.W3vQG8yV-TMfsGcX_scNYeoGfj2I9Ye63y0G65tp92U)